async function loadModules(e){try{var a=await(await fetch("drive_hierarchy.json")).json(),s=document.querySelector(".modules-container"),t=a[e];if(s.innerHTML="",t){"2ème Année Licence"===e&&injectPrKamalBalVideos(t);var l,i=document.createElement("section"),d=(i.classList.add("container","pt-5"),document.createElement("h2")),n=(d.setAttribute("data-aos","fade-down"),d.classList.add("text-center","mb-5"),d.innerHTML=`
      <span class="text-primary"><i class="fa-solid fa-graduation-cap"></i></span>
      ${e}
    `,i.appendChild(d),document.createElement("div"));for(l in n.classList.add("d-lg-flex","gap-5"),t){var r=t[l],o=l.replace(/\s+/g,"-"),c=document.createElement("div");c.setAttribute("data-aos","fade-down"),c.setAttribute("data-aos-delay","250"),c.classList.add("card","border-0","shadow-lg","rounded-4","w-100","mb-5"),c.innerHTML=`
        <div class="card-body">
          <h5 class="card-title text-center h3 text-primary pt-3 pb-2">
            <a class="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="${r.link}" target="_blank">${l}</a>
            <div class="custom-hr"></div>
          </h5>
          <div class="card-text">
            <div class="accordion accordion-flush" id="accordionFlush-${o}">
              ${generateModules(r.subfolders,o)}
            </div>
          </div>
        </div>
      `,n.appendChild(c)}i.appendChild(n),s.appendChild(i),AOS.refreshHard()}else s.innerHTML=`
      <div data-aos="fade-down" class="container pt-5" dir="rtl">
      <div class="alert alert-warning fs-4" role="alert">${e} غير متاح حاليا</div>
      </div>`}catch(e){}}function injectPrKamalBalVideos(e){for(var a in e){a=e[a];a.subfolders&&a.subfolders["Base De Donnees"]&&(a.subfolders["Base De Donnees"].subfolders["Pr KAMAL BAL's Videos"]={link:"https://drive.google.com/drive/u/2/folders/1Ik4gMqTszRocoOdzSpoQRiDcV5SOTIPU",subfolders:{}})}}function generateModules(e,l){return Object.entries(e).map(([e,a],s)=>{var t=Object.keys(a.subfolders).every(e=>e.trim().toLowerCase().includes("(empty)"));return`
        <div class="accordion-item">
          <h2 class="accordion-header" id="flush-heading-${l}-${s}">
            <button class="fs-5 accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse-${l}-${s}" aria-expanded="false" aria-controls="flush-collapse-${l}-${s}">
              ${t?e+" (empty)":e}
            </button>
          </h2>
          <div id="flush-collapse-${l}-${s}" class="accordion-collapse collapse" aria-labelledby="flush-heading-${l}-${s}" data-bs-parent="#accordionFlush-${l}">
            <div class="accordion-body">
              <ul class="list-group list-group-flush">
                ${generateSubModules(a.subfolders)}
              </ul>
            </div>
          </div>
        </div>
      `}).join("")}function generateSubModules(e){return Object.entries(e).map(([e,a])=>`
          <li class="list-group-item">
            <a class="${e.trim().normalize().toLowerCase().includes("(empty)")?"text-muted":"test-class"} fs-5 link-offset-2 link-underline link-underline-opacity-0" href="${a.link}" target="_blank">
              <i class="bi bi-file-earmark-text-fill me-2"></i>
              ${e}
            </a>
          </li>
        `).join("")}let year=document.getElementById("pageName").textContent;loadModules(year);