import{API_KEYS}from"./apikeys.js";async function searchFiles(){var e=document.getElementById("searchQuery").value,t=document.getElementById("searchButton"),n=t.querySelector("span"),a=document.getElementById("search-results");if(e){a.innerHTML="",t.disabled=!0,n.className="spinner-border spinner-border-sm";e=await(await fetch(API_KEYS.SEARCH+encodeURIComponent(e))).json();if(0===e.length)a.innerHTML="<p dir='rtl' class='alert alert-warning mt-2' >لم يتم العثور على ملفات بهذا الإسم. يرجى المحاولة بأسماء أو إختصارات مشابهة</p>";else{let r=document.createElement("ul");r.className="list-group mt-3",e.forEach(e=>{var t=document.createElement("li"),n=(t.className="fs-5 list-group-item d-flex justify-content-between align-items-center",document.createElement("div")),a=(n.className="custom-link-container",document.createElement("a")),e=(a.href=e.url,a.textContent=e.name,a.target="_blank",a.className="text-primary custom-link",document.createElement("i"));e.className="h3 bi bi-file-earmark-text-fill me-2",a.insertBefore(e,a.firstChild),n.appendChild(a),t.appendChild(n),r.appendChild(t)}),a.appendChild(r)}t.disabled=!1,n.className=""}else a.innerHTML="<p dir='rtl' class='alert alert-danger mt-2'>أدخل كلمة البحث</p>"}var search=document.getElementById("searchQuery");search.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("searchButton").click())}),document.getElementById("searchButton").addEventListener("click",searchFiles);